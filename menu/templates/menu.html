{% extends "base.html" %}
{% load static %}
{% block content %}
{% block carousel %}{% endblock %}

<!-- Title -->
<div class="container my-5 menu-section mt-lg-5">
    <div class="row mb-3">
      <div class="col-md-12">
        <h2 class="pb-5 text-center heading"> Food & Drinks</h2>
      </div>
    </div>

    
    <!-- Food & Snacks -->
    <div class="row justify-content-start g-4">
      {% for item in menu %}
      <div class=" col-12 col-sm-6 col-md-4 col-xl-3 d-flex justify-content-center">
          <div class="card card-poster">
              <img src="{{ item.image.url }}" class="card-img-top" alt="{{ item.name }}">
              {% if user.is_staff %}
                <div class="d-flex justify-content-center gap-2 mt-3">
                  <a href="{% url 'menu_update' item.pk %}" class="btn btn-warning btn-sm">Edit</a>
                  <!-- Delete form -->
                    <form method="POST" action="{% url 'menu_delete' item.pk %}" class="d-inline">
                      {% csrf_token %}
                        <button type="submit" class="btn btn-danger btn-sm delete-button"> Delete </button>
                    </form>
                </div>
              {% endif %}
              <div class="card-body pb-5">
                  <h3> {{ item.name }} </h3>
                  <p> {{ item.description }} </p>
              </div>
          </div>
      </div>
      {% endfor %}
      {% if user.is_staff %}
      <div class="row mt-4">
        <div class="col-md-4">
          <h2 class="mb-4 mt-md-0 mt-4">Add New Item</h2>
          <a href="{% url 'menu_create'  %}" class="btn btn-success w-100">
            <i class="fa-solid fa-plus"></i> Add Item
          </a>
        </div>
      </div>
      {% endif %}
    </div>
</div>
{% endblock %}